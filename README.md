# Sudoku Solver in Python

## 项目描述

这个项目是一个用 Python 实现的数独求解器，用于中山大学24/9/30面向对象课程作业，包含以下功能：

- 初始化数独棋盘
- 序列化和反序列化棋盘
- 获取和设置单元格值
- 解决数独问题
- 测试序列化、反序列化和深拷贝功能

## 类定义

### 类 Grid

- **描述**: 表示数独棋盘的基本网格，支持序列化、反序列化和单元格值的操作。

- **主要方法**:
  - `__init__(col_num, row_num)`: 初始化数独棋盘，`col_num` 为列数，`row_num` 为行数。
  - `serialize()`: 将棋盘序列化为字符串。
  - `deserialize(data)`: 从字符串反序列化为数独棋盘。
  - `get_row_values(row_id)`: 获取指定行的数值。
  - `get_col_values(col_id)`: 获取指定列的数值。
  - `get_block_value(row_id, col_id)`: 获取指定单元格的值。
  - `set_block_value(row_id, col_id, val)`: 设置指定单元格的值。
  - `__eq__(other)`: 检查两个棋盘是否相等。

### 类 Sudoku (继承自 Grid)

- **描述**: 表示一个数独问题，固定 9x9 棋盘，支持数独求解功能。

- **主要方法**:
  - `__init__(input_sudoku_value)`: 初始化数独对象，反序列化输入值。
  - `initialize_bitsets()`: 初始化行、列、小块中已存在的数字。
  - `solve(ifOutputAns=True, row_id=0, col_id=0)`: 使用递归回溯法解决数独问题。
  - `print_board()`: 打印当前棋盘状态。

### 类 SudokuTest

- **描述**: 包含测试方法，用于验证数独功能的正确性。

- **主要方法**:
  - `text_sudoku(sudoku)`: 测试序列化和反序列化。
  - `run_sudoku_test(input_value, description, expected_solution_count=1)`: 运行数独测试，检查解的数量是否符合预期。

## 测试用例

### 测试示例

1. **唯一解示例**: 
   - 输入: `017903600000080000900000507072010430000402070064370250701000065000030000005601720`
   - 预期解数量: 1

2. **多解示例**: 
   - 输入: `006000200100700090000006075008002030020000060070400500640300000090004001002000400`
   - 预期解数量: 8

3. **无解示例**: 
   - 输入: `530071000600050000098000060800600003400803001700020006000000080060000195000281000`
   - 预期解数量: 0

4. **非法示例**: 
   - 输入: `ABCDE0179036000000900000507072010430000402070064370250701000065000030000005601720`
   - 预期解数量: -1 (非法输入)

5. **全0示例**: 
   - 输入: `000000000000000000000000000000000000000000000000000000000000000000000000000000000`
   - 预期解数量: 101

6. **长度不足示例**: 
   - 输入: `123456789`
   - 预期解数量: 101

7. **长度过大示例**: 
   - 输入: `000000000000000000000000000000000000000000000000000000000000000000000000000000000000`
   - 预期解数量: 101

### 用户自定义输入

用户可以输入数独字符串，要求长度为 81 位，且为数字 0~9，并测试相关功能。

## 运行示例

```python
if __name__ == "__main__":
    main()
